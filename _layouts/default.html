<!DOCTYPE html>
<html>
  
  {% include head.html %}

  <body>
    
    <div class="container">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">David R. Muench</a>
        </h3>
        <div class="nav">
          <a href="/about.html">Information Designer</a>
        </div>
      </header>

      {{ content }}
      
    </div>
    
    <hr>

    <div class="footer">
      <p>For short musings, <a href="https://twitter.com/drmlazer11">follow me on Twitter.</a></p>
    </div>

    {% include analytics.html %}
    
    <script type="text/javascript">
    	function convert_emojis() {
    		$(".date-emoji, .archive-emoji").each(function() {
    			var input = $(this).html();
    			var output = emojione.shortnameToImage(input);
    			$(this).html(output);
    		});
    	}
	convert_emojis();
    </script>
    
    <script type="text/javascript"> 
	
	checkDate();
    	createCookie('last_visit', 7);

	function createCookie(name, days) {
			
		date = new Date();
		readable_date = parseInt(date.getFullYear().toString() + date.getMonth().toString() + date.getDate().toString());
			
		if (days) {
			var date = new Date();
			date.setTime(date.getTime()+(days*24*60*60*1000));
			var expires = "; expires="+date.toGMTString();
		}
			
		else var expires = "";
		document.cookie = name + "=" + readable_date + expires + "; path=/";
		
	};
		
	function readCookie(name) {
			
		var nameEQ = name + "=";
		var ca = document.cookie.split(';');
		for(var i=0;i < ca.length;i++) {
			var c = ca[i];
			while (c.charAt(0)==' ') c = c.substring(1,c.length);
			if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
		}
		return null;
			
	};
		
	function checkDate() {
			
		date = new Date();
		readable_date = parseInt(date.getFullYear().toString() + date.getMonth().toString() + date.getDate().toString());
		last_visit = parseInt(readCookie('last_visit'));
			
		if (last_visit != readable_date) {
			$('#rendering-mask').fadeIn(0);
			$('#rendering-mask').fadeOut(1000);
		}
	};
    
    </script>
    
  </body>
</html>
